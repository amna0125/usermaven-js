<html>

<head>
    <!-- Usermaven tracking one-liner. By default, pageview event is sent -->
    <script src="%%SERVER%%/s/lib.js" data-key="Test" data-log-level="debug" data-autocapture="false" defer></script>
    <script>
        setTimeout(() => {
            console.log("Testing delayed tracking");
            let usermaven = window.usermaven = window.usermaven || (function () { (window.usermavenQ = window.usermavenQ || []).push(arguments); })

            usermaven('set', { persistent_prop1: 2 })
            usermaven('set', { persistent_prop2: 3 }, { eventType: "additional_event" })
            usermaven('set', { persistent_prop3: 3 }, { eventType: "non_existing_event" })

            usermaven('track', 'additional_event', { extra: 1 });

            /* setTimeout(() => {
                console.log("Testing unset event");
                usermaven('unset');
            }, 2000); */
        }, 500)

    </script>
</head>

<body>
    <h1>Testing %%SERVER%%</h1>
    <h2>Capabilities</h2>
    <ul>
        <li>Session Persistence</li>
        <li><a href="autocapture.html">Autocapturing</a></li>
    </ul>
</body>

</html>