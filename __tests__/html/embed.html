<html>

<head>
    <!--
       Usermaven tracking one-liner. By default, pageview event is sent
    -->
    <script src="%%SERVER%%/s/lib.js" data-key="Test" data-log-level="debug" defer></script>
    <!-- <script src="%%SERVER%%/s/lib.js" data-key="Test" data-log-level="debug" data-persistence='localStorage+cookie'
        data-persistence-name='custom' defer></script> -->
    <script>
        setTimeout(() => {
            console.log("Testing delayed tracking");
            let usermaven = window.usermaven = window.usermaven || (function () { (window.usermavenQ = window.usermavenQ || []).push(arguments); })

            usermaven('set', { persistent_prop1: 2 })
            usermaven('set', { persistent_prop2: 3 }, { eventType: "additional_event" })
            usermaven('set', { persistent_prop3: 3 }, { eventType: "non_existing_event" })

            usermaven('track', 'additional_event', { extra: 1 });
            usermaven('capture', 'capture_event', { extra: 2 });

            setTimeout(() => {
                console.log("Testing unset event");
                usermaven('unset');
            }, 2000);
        }, 500)

        /* setTimeout(() => {
            console.log("Delayed set event");
            let usermaven = window.usermaven = window.usermaven || (function () { (window.usermavenQ = window.usermavenQ || []).push(arguments); })

            usermaven('set', { persistent_prop1: 2 })
            usermaven('set', { persistent_prop2: 3 }, { eventType: "additional_event" })
            usermaven('set', { persistent_prop3: 3 }, { eventType: "non_existing_event" })

            usermaven('track', 'additional_event', { extra: 1 });
            usermaven('capture', 'capture_event', { extra: 2 });

            setTimeout(() => {
                console.log("Testing unset event");
                usermaven('unset');
            }, 2000);['a', 'button', 'form', 'input', 'select', 'textarea', 'label']
        }, 5000) */

    </script>
</head>

<body>
    <h1>Testing %%SERVER%%</h1>
    <h3>Achor Tag</h3>
    <a id="anchor-test" name="anchor-test" target="_blank" href="https://google.com">Redirect</a>

    <h3>Button Tag</h3>
    <button id="button-test" name="button-test">Simple button</button>

    <h3>Form Tag | <small>Submission test</small></h3>
    <form id="form-test" name="form-test">
        <button name="submit-test" type="submit" value="form-submission">Submit</button>
    </form>

    <h3>Input Tag</h3>
    <input id="input-test" name="input-test" value="usermaven" />

    <h3>Label Tag</h3>
    <label id="label-test" name="label-test">Select tool</label>

    <h3>Select Tag</h3>
    <select id="select-test" name="select-test">
        <option value="replug">Replug</option>
        <option value="contentstudio">ContentStudio</option>
        <option value="usermaven">Usermaven</option>
    </select>

    <h3>Textarea Tag</h3>
    <textarea id="textarea-test" name="textarea-test"></textarea>

    <h3>No Capture Button Tag<small>
            <pre>um-no-capture</pre>
        </small></h3>
    <button id="button-test" name="button-test" class="um-no-capture" target="_blank">Simple button</button>

</body>

</html>